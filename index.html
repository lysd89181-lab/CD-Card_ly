<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ØªØ¬Ø± CDCARD</title>

<style>
:root{
--bg:#06080f;
--glass:rgba(255,255,255,0.05);
--border:rgba(255,255,255,0.15);
--accent:#00ffa6;
--text:#ffffff;
--danger:#ff4d4d;
}

body{
margin:0;
font-family:'Cairo',sans-serif;
background:linear-gradient(120deg,#02040a,#0a0f1f,#02040a);
color:var(--text);
text-align:center;
padding-bottom:170px;
}

.glass{
background:var(--glass);
backdrop-filter:blur(14px);
border:1px solid var(--border);
border-radius:20px;
box-shadow:0 8px 30px rgba(0,255,166,0.08);
}

.hero{
padding:30px 15px;
margin:12px;
}

.hero h1{
margin:0;
font-size:2rem;
color:var(--accent);
text-shadow:0 0 15px rgba(0,255,166,0.4);
}

.hero p{
color:#aaa;
margin-top:5px;
font-size:0.9rem;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
.payment-top{
margin:10px 12px;
padding:12px;
display:flex;
gap:10px;
flex-wrap: wrap;
}

.pay-card{
flex:1;
min-width: 80px;
padding:12px;
cursor:pointer;
transition:0.3s;
font-weight:bold;
border-radius:15px;
background: var(--glass);
border: 1px solid var(--border);
font-size: 0.9rem;
}

.pay-card.active{
border:1px solid var(--accent);
box-shadow:0 0 15px rgba(0,255,166,0.4);
background:rgba(0,255,166,0.08);
color: var(--accent);
}

.category-title{
text-align:right;
margin:25px 15px 10px;
color:var(--accent);
font-weight:bold;
font-size:1.2rem;
border-right:4px solid var(--accent);
padding-right:10px;
}

.products-grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:12px;
padding:0 10px;
}

.product-card{
padding:10px;
transition:0.3s;
display: flex;
flex-direction: column;
justify-content: space-between;
}

.product-img{
width:100%;
height:100px;
border-radius:15px;
object-fit:cover;
}

h3{
font-size:0.85rem;
margin:8px 0;
}

.price-tag{
color:var(--accent);
font-weight:bold;
font-size:0.9rem;
display: block;
margin-bottom: 5px;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© */
.qty-input{
width: 80%;
background: rgba(255,255,255,0.1);
border: 1px solid var(--border);
color: white;
border-radius: 5px;
padding: 5px;
text-align: center;
margin: 5px auto;
font-size: 0.8rem;
}

.add-btn{
margin-top:8px;
width:95%;
padding:9px;
border-radius:25px;
border:none;
background:linear-gradient(135deg,#00ffa6,#00cfff);
color:black;
font-weight:bold;
cursor:pointer;
}

.cart-bar{
position:fixed;
bottom:0;
left:0;
right:0;
padding:15px;
margin:10px;
z-index: 1000;
}

.cart-items-list{
max-height:120px;
overflow:auto;
text-align:right;
font-size:0.85rem;
margin-bottom:10px;
}

.cart-item{
display:flex;
justify-content:space-between;
background:rgba(255,255,255,0.05);
padding:6px 10px;
margin-bottom:5px;
border-radius:8px;
}

.remove-btn{
color:var(--danger);
cursor:pointer;
font-weight:bold;
}

.cart-summary{
display:flex;
justify-content:space-between;
align-items:center;
}

.send-btn{
background:linear-gradient(135deg,#00ffa6,#00cfff);
color:black;
border:none;
padding:12px 25px;
border-radius:30px;
font-weight:bold;
cursor:pointer;
}
</style>
</head>

<body>

<div class="hero glass">
<h1>CDCARD</h1>
<p>Ù…ØªØ§Ø¨Ø¹ÙŠÙ†ØŒ Ø´Ø­Ù† Ø£Ù„Ø¹Ø§Ø¨ØŒ ÙˆØ§Ø´ØªØ±Ø§ÙƒØ§Øª Ø±Ù‚Ù…ÙŠØ© Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©</p>
</div>

<div class="payment-top glass">
<div class="pay-card active" onclick="setMethod(this,'ÙƒØ§Ø´',0)">ğŸ’µ ÙƒØ§Ø´</div>
<div class="pay-card" onclick="setMethod(this,'Ù„Ø¨ÙŠØ§Ù†Ø§',2)">ğŸ“± Ù„Ø¨ÙŠØ§Ù†Ø§ (+2)</div>
<div class="pay-card" onclick="setMethod(this,'Ù…Ø¯Ø§Ø±',2)">ğŸ“¡ Ù…Ø¯Ø§Ø± (+2)</div>
</div>

<div id="shop-container"></div>

<div class="cart-bar glass">
<div class="cart-items-list" id="cart-items-list"></div>
<div class="cart-summary">
<div style="text-align:right;">
<span id="cart-count" style="font-size:0.8rem;color:#aaa;">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: 0</span><br>
<strong id="cart-total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0 Ø¯.Ù„</strong>
</div>
<button class="send-btn" onclick="sendWhatsApp()">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ âœ…</button>
</div>
</div>

<script>
let currentMethod="ÙƒØ§Ø´";
let pricePlus=0;
let cart=[];

// Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø¥Ø¶Ø§ÙØ© Ø®Ø§ØµÙŠØ© isSocial Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ ÙƒÙ…ÙŠØ©
const categories={
"ØªÙŠÙƒ ØªÙˆÙƒ":[
{name:"Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ",pricePer1000:12,img:"tiktok.jpg",isSocial:true},
{name:"Ù„Ø§ÙŠÙƒØ§Øª ØªÙŠÙƒ ØªÙˆÙƒ",pricePer1000:3,img:"tiktok.jpg",isSocial:true},
{name:"Ù…Ø´Ø§Ù‡Ø¯Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ",pricePer1000:1,img:"tiktok.jpg",isSocial:true}
],
"Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…":[
{name:"Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…",pricePer1000:8,img:"instagram.jpg",isSocial:true},
{name:"Ù„Ø§ÙŠÙƒØ§Øª Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…",pricePer1000:4,img:"instagram.jpg",isSocial:true}
],
"ÙÙŠØ³Ø¨ÙˆÙƒ":[
{name:"Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØµÙØ­Ø©",pricePer1000:5,img:"facebook.jpg",isSocial:true},
{name:"Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø±ÙŠÙ„Ø²",pricePer1000:1,img:"facebook.jpg",isSocial:true}
],
"Ø¨Ø¨Ø¬ÙŠ Ù…ÙˆØ¨Ø§ÙŠÙ„":[
{name:"Ø¨Ø¨Ø¬ÙŠ 60 Ø´Ø¯Ø©",price:11,img:"pubg.jpg"},
{name:"Ø¨Ø¨Ø¬ÙŠ 325 Ø´Ø¯Ø©",price:55,img:"pubg.jpg"}
],
"Ø§Ø´ØªØ±Ø§ÙƒØ§Øª":[
{name:"Ø´Ø§Ù‡Ø¯ Ø´Ù‡Ø±",price:30,img:"shahid.jpg"},
{name:"Ù†ØªÙÙ„ÙŠÙƒØ³ Ø´Ù‡Ø±",price:30,img:"netflix.jpg"}
]
};

function render(){
const container=document.getElementById("shop-container");
container.innerHTML="";

for(let cat in categories){
container.innerHTML+=`<div class="category-title">${cat}</div>`;
let grid=document.createElement("div");
grid.className="products-grid";

categories[cat].forEach((p, index)=>{
let cardContent = '';
if(p.isSocial) {
    // Ù…Ù†ØªØ¬ Ø¨System ÙƒÙ…ÙŠØ© (Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§)
    cardContent = `
    <div class="product-card glass">
        <img src="${p.img}" class="product-img">
        <h3>${p.name}</h3>
        <small style="font-size:0.7rem; color:#00ffa6">Ø§Ù„Ø³Ø¹Ø± Ù„ÙƒÙ„ 1000: ${p.pricePer1000 + pricePlus} Ø¯.Ù„</small>
        <input type="number" class="qty-input" id="qty-${cat}-${index}" value="200" min="200" step="100">
        <button class="add-btn" onclick="addSocialToCart('${p.name}', ${p.pricePer1000}, 'qty-${cat}-${index}')">Ø¥Ø¶Ø§ÙØ© +</button>
    </div>`;
} else {
    // Ù…Ù†ØªØ¬ Ø¹Ø§Ø¯ÙŠ (Ø´Ø¯Ø§ØªØŒ Ø§Ø´ØªØ±Ø§ÙƒØ§Øª)
    cardContent = `
    <div class="product-card glass">
        <img src="${p.img}" class="product-img">
        <h3>${p.name}</h3>
        <span class="price-tag">${p.price+pricePlus} Ø¯.Ù„</span>
        <button class="add-btn" onclick="addToCart('${p.name}',${p.price})">Ø¥Ø¶Ø§ÙØ© +</button>
    </div>`;
}
grid.innerHTML += cardContent;
});
container.appendChild(grid);
}
}

function setMethod(el,method,plus){
document.querySelectorAll(".pay-card").forEach(c=>c.classList.remove("active"));
el.classList.add("active");
currentMethod=method;
pricePlus=plus;
// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ø§Ù„Ø³Ù„Ø© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
cart.forEach(item => {
    item.finalPrice = (item.isSocial ? (item.unitPrice + pricePlus) * (item.qty/1000) : (item.basePrice + pricePlus));
});
render();
updateUI();
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¹Ø§Ø¯ÙŠ
function addToCart(name,basePrice){
cart.push({
    id:Date.now(),
    name:name,
    basePrice:basePrice,
    finalPrice:basePrice+pricePlus,
    isSocial: false
});
updateUI();
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ Ø¨ÙƒÙ…ÙŠØ© Ù…Ø®ØµØµØ©
function addSocialToCart(name, pricePer1000, inputId){
    let qty = parseInt(document.getElementById(inputId).value);
    if(qty < 200) return alert("Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨ Ù‡Ùˆ 200");
    
    let currentUnitPrice = pricePer1000 + pricePlus;
    let finalPrice = (currentUnitPrice * qty) / 1000;

    cart.push({
        id: Date.now(),
        name: `${name} (ÙƒÙ…ÙŠØ©: ${qty})`,
        unitPrice: pricePer1000,
        qty: qty,
        finalPrice: finalPrice,
        isSocial: true
    });
    updateUI();
}

function removeFromCart(id){
cart=cart.filter(item=>item.id!==id);
updateUI();
}

function updateUI(){
const list=document.getElementById("cart-items-list");
list.innerHTML="";
let total=0;

cart.forEach(item=>{
total+=item.finalPrice;
list.innerHTML+=`
<div class="cart-item">
<span>${item.name} - ${item.finalPrice.toFixed(2)} Ø¯.Ù„</span>
<span class="remove-btn" onclick="removeFromCart(${item.id})">âœ–</span>
</div>
`;
});

document.getElementById("cart-count").innerText=`Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${cart.length}`;
document.getElementById("cart-total").innerText=`Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total.toFixed(2)} Ø¯.Ù„`;
}

function sendWhatsApp(){
if(cart.length===0)return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");
let itemsText=cart.map(it=>`- ${it.name}: ${it.finalPrice.toFixed(2)} Ø¯.Ù„`).join('%0A');
let total=cart.reduce((s,item)=>s+item.finalPrice,0);
let phone="218912377291";

let msg=`*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Ù…ØªØ¬Ø± CDCARD*%0A*Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:* ${currentMethod}%0A------------------%0A${itemsText}%0A------------------%0A*Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${total.toFixed(2)} Ø¯.Ù„`;

window.open(`https://wa.me/${phone}?text=${msg}`,'_blank');
}

render();
</script>
</body>
</html>

